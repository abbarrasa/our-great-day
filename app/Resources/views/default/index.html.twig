{% extends 'base.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    {% stylesheets
    '../app/Resources/public/css/timeline.css'
    '../app/Resources/public/css/flipclock.css' filter='cssrewrite' output='assets/css/compiled/app.css' %}
    <link rel="stylesheet" href="{{ asset_url }}" />
    {% endstylesheets %}
{% endblock %}

{% block title %}{{ 'frontend.title'|trans }}{% endblock %}

{% block main %}
    <!-- Countdown -->
    <div class="section section-basic sr">
        <div class="container">
            <div class="row">
                <div class="col-8 mr-auto ml-auto">
                    <h2 class="title">{{ 'frontend.welcome.title'|trans|raw }}</em></h2>
                    <div class="description-page">
                        <p>
                            We hope Everyone had safe travel and are ready to celebrate with us. In your bag youâ€™ll find some
                            of our favorite snacks, places in around the White Rock lake area that we love, and Wedding Itinerary.
                            We hope you enjoy your stay!
                        </p>
                    </div>
                    <div id="clock"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Countdown -->

    <!-- Bio cards -->
    <div class="section section-basic section-white-to-gray sr">
        <div class="container">
            <div class="row">
                <div class="col-8 mr-auto ml-auto">
                    <h2 class="title">{{ 'frontend.profiles.title'|trans|raw }}</h2>
                    {{ include('default/partials/profiles.html.twig') }}
                </div>            
            </div>
        </div>
    </div>
    <!-- End Bio cards -->

    <!-- Timeline -->
    <div class="section section-basic section-gray sr">
        <div class="container">
            <div class="row">
                <div class="col-12 mr-auto ml-auto">            
                    <h2 class="title">{{ 'frontend.timeline.title'|trans|raw }}</h2>
                    {{ include('default/partials/timeline.html.twig') }}
                </div>
            </div>
        </div>
    </div>
    <!-- End Timeline -->

    <!-- Maps -->
    <div class="section section-basic sr">
        <div class="container">
            <div class="row">
                <div class="col-12 mr-auto ml-auto">
                    <h2 class="title">{{ 'frontend.location.title'|trans|raw }}</h2>
                </div>
            </div>
        </div>
        <div id="map" class="big-map"></div>
    </div>
    <!-- End Maps -->

{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {% javascripts
    '../app/Resources/public/js/plugins/flipclock.min.js' output='assets/js/compiled/app.js' %}
    <script src="{{ asset_url }}"></script>
    {% endjavascripts %}

    <!--  Google Maps Plugin    -->
    <script async defer src="https://maps.googleapis.com/maps/api/js?key={{ api_key }}&callback=initMap"></script>
    <script type="text/javascript">
        function initMap()
        {
            var myLatlng = new google.maps.LatLng(40.3488876, -3.7242733);
            var mapOptions = {
                zoom: 16,
                center: myLatlng,
                scrollwheel: false, //we disable de scroll over the map, it is a really annoing when you scroll through page
                styles: [{
                    "featureType": "water",
                    "stylers": [{
                        "saturation": 43
                    }, {
                        "lightness": -11
                    }, {
                        "hue": "#0088ff"
                    }]
                }, {
                    "featureType": "road",
                    "elementType": "geometry.fill",
                    "stylers": [{
                        "hue": "#ff0000"
                    }, {
                        "saturation": -100
                    }, {
                        "lightness": 99
                    }]
                }, {
                    "featureType": "road",
                    "elementType": "geometry.stroke",
                    "stylers": [{
                        "color": "#808080"
                    }, {
                        "lightness": 54
                    }]
                }, {
                    "featureType": "landscape.man_made",
                    "elementType": "geometry.fill",
                    "stylers": [{
                        "color": "#ece2d9"
                    }]
                }, {
                    "featureType": "poi.park",
                    "elementType": "geometry.fill",
                    "stylers": [{
                        "color": "#ccdca1"
                    }]
                }, {
                    "featureType": "road",
                    "elementType": "labels.text.fill",
                    "stylers": [{
                        "color": "#767676"
                    }]
                }, {
                    "featureType": "road",
                    "elementType": "labels.text.stroke",
                    "stylers": [{
                        "color": "#ffffff"
                    }]
                }, {
                    "featureType": "poi",
                    "stylers": [{
                        "visibility": "off"
                    }]
                }, {
                    "featureType": "landscape.natural",
                    "elementType": "geometry.fill",
                    "stylers": [{
                        "visibility": "on"
                    }, {
                        "color": "#b8cb93"
                    }]
                }, {
                    "featureType": "poi.park",
                    "stylers": [{
                        "visibility": "on"
                    }]
                }, {
                    "featureType": "poi.sports_complex",
                    "stylers": [{
                        "visibility": "on"
                    }]
                }, {
                    "featureType": "poi.medical",
                    "stylers": [{
                        "visibility": "on"
                    }]
                }, {
                    "featureType": "poi.business",
                    "stylers": [{
                        "visibility": "simplified"
                    }]
                }]

            };

            var map = new google.maps.Map(document.getElementById("map"), mapOptions);
            var marker = new google.maps.Marker({
                position: myLatlng,
                title: "Our Great Wedding Location!"
            });

            // To add the marker to the map, call setMap();
            marker.setMap(map);
        }

        $(document).ready(function()
        {
            // Initialize countdown clock
            var time = Date.parse('{{ wedding_date }}') - Date.parse(new Date());
            var deadline = Math.round(time / 1000);
            $('#clock').FlipClock(deadline, {
                clockFace: 'DailyCounter',
                language: '{{ app.request.locale }}',
                countdown: true
            });
        });
    </script>
{% endblock %}
