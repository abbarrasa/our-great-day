{% extends 'base.html.twig' %}

{% block title %}Our Great Day! - Confirm attendence{% endblock %}

{% block main %}
    <div class="section section-basic sr">
        <div class="container">
            <div class="row">
                <div class="col-md-8 col-md-offset-2">
                    <h2 class="title">Our Great <em>Guests</em></h2>
                    <div class="description-page text-center">
                        <h4>Confirm your attendence!</h4>
                        <p>
                            This information will let us know more about youddfa  daf adf adf dsf adfs adf df asf d.
                            adfasdfsdf adsf adf adf adf adsf  asdf adf adf adaf adf adf adf a fadf adf afa dadfadf
                            asdfdas adfa asdfasdf dasf adsf adf afd adsfdf asf df.
                        </p>
                    </div>
                    
                    <div class="col-md-8 col-xs-12 mr-auto ml-auto">
                        <div class="card">
                            <div class="card-body">
                                <ul class="nav nav-pills nav-pills-icons nav-pills-primary" role="tablist">
                                    <li class="nav-item">
                                        <a class="nav-link{% if app.request.attributes.get('_route') == 'guest' %} active{% endif %}" href="{{ path('guest') }}">
                                            <i class="material-icons">search</i>
                                            Search you
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link{% if app.request.attributes.get('_route') == 'guest_confirm' %} active{% endif %}" href="{{ app.request.baseUrl }}">
                                            <i class="material-icons">assignment_turned_in</i>
                                            Confirm attendance
                                        </a>
                                    </li>
                                </ul>

                                <div class="tab-content tab-space">
                                    {#{{ flash_messages() }}#}
                                    {{ form_start(form) }}
                                    {{ form_errors(form) }}                                    
                                    <div class="row">
                                        <div class="col form-group bmd-form-group{% if not form.firstname.vars.valid %} has-danger{% endif %}">
                                        {{ form_label(form.firstname, {'label_attr': {'class': 'bmd-label-floating'}}) }}
                                        {{ form_widget(form.firstname) }}
                                        {{ form_errors(form.firstname) }}
                                        {#<span class="bmd-help">We'll never share your email with anyone else.</span>#}
                                        {% if not form.firstname.vars.valid %}
                                            <span class="material-icons form-control-feedback">clear</span>
                                        {% endif %}
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col form-group bmd-form-group{% if not form.lastname.vars.valid %} has-danger{% endif %}">
                                        {{ form_label(form.lastname, {'label_attr': {'class': 'bmd-label-floating'}}) }}
                                        {{ form_widget(form.lastname) }}
                                        {{ form_errors(form.lastname) }}
                                        {% if not form.lastname.vars.valid %}
                                            <span class="material-icons form-control-feedback">clear</span>
                                        {% endif %}
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col form-group bmd-form-group{% if not form.email.vars.valid %} has-danger{% endif %}">
                                        {{ form_label(form.email, {'label_attr': {'class': 'bmd-label-floating'}}) }}
                                        {{ form_widget(form.email) }}
                                        {{ form_errors(form.email) }}
                                        {% if not form.email.vars.valid %}
                                            <span class="material-icons form-control-feedback">clear</span>
                                        {% endif %}
                                        </div>
                                    </div>
                                    
                                    {% if app.request.attributes.get('_route') == 'guest_confirm' %}
                                        <div class="row">
                                            {% if form.guests is defined %}                                        
                                            <div class="col form-group bmd-form-group">
                                                {{ form_label(form.guests, {'label_attr': {'class': 'bmd-label-floating'}}) }}
                                                {{ form_widget(form.guests, {'attr': {'class': 'selectpicker', 'data-style': 'select-with-transition', 'data-size': '7'}}) }}
                                            </div>
                                            {% endif %}
                                            
                                            {% if form.childs is defined %}                                        
                                            <div class="col form-group bmd-form-group">
                                                {{ form_label(form.childs, {'label_attr': {'class': 'bmd-label-floating'}}) }}
                                                {{ form_widget(form.childs, {'attr': {'class': 'selectpicker', 'data-style': 'select-with-transition', 'data-size': '7'}}) }}
                                            </div>
                                            {% endif %}
                                            
                                            {% if form.vegans is defined %}                                        
                                            <div class="col form-group bmd-form-group">
                                                {{ form_label(form.vegans, {'label_attr': {'class': 'bmd-label-floating'}}) }}
                                                {{ form_widget(form.vegans, {'attr': {'class': 'selectpicker', 'data-style': 'select-with-transition', 'data-size': '7'}}) }}
                                            </div>
                                            {% endif %}                                            
                                        </div>
                                        
                                        <div class="row">
                                        {% if form.attending is defined %}
                                            <div class="col form-group bmd-form-group">
                                                {{ form_label(form.attending) }}
                                                <div class="form-check form-check-inline">
                                                    {% for child in form.attending %}
                                                        <label class="form-check-label">
                                                            {{ form_widget(child, {'attr': {'class': 'form-check-input'}}) }} {{ child.vars.label }}
                                                            <span class="circle">
                                                                <span class="check"></span>
                                                            </span>
                                                        </label>
                                                    {% endfor %}
                                                </div>
                                            </div>
                                        {% endif %}
                                        </div>
                                    {% endif %}

                                    <div class="col-md-12 form-group">
                                        {{ form_widget(form.submit, {'attr': {'class': 'btn btn-primary pull-right'}}) }}
                                    </div>
                                    {{ form_end(form) }}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
